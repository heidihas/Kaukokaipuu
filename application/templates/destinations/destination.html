{% extends "layout.html" %}

{% block body %} 
    <a class="btn btn-default btn-lg" href="{{ url_for('destinations_index') }}">
        <span class="glyphicon glyphicon-arrow-left"></span> Return
    </a>

    <h1>{{ destination.name }}</h1>
    
    <i> {{ destination.description }}</i><br />
    <br />
    <h4><span class="glyphicon glyphicon-thumbs-up"></span> {{ destination.rating }}</h4><br />

    <table class="table">
        <thead class="thead-light">
            <tr>
                <th scope="col">
                    <span class="glyphicon glyphicon-tent"></span> Accomodation
                </th>
                <th scope="col">
                    <span class="glyphicon glyphicon-thumbs-up"></span> Likes
                </th>
            </tr>
        </thead>
        <tbody>
            {% for accomodation in accomodations %}
            <tr>
                <td><a href="{{ url_for('accomodations_one', destination_id=destination.id, accomodation_id=accomodation.id) }}">{{ accomodation.name }}</a></td>
                <td>{{ accomodation.rating }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table><br />
    
    <form method="POST" action="{{ url_for('destinations_like', destination_id=destination.id) }}" id="likeform">
        <table>
            <tr>
                <td colspan="2">
                    <button type="submit" class="btn btn-default btn-lg">
                        <span class="glyphicon glyphicon-thumbs-up"></span> Like
                    </button>
                </td>
            </tr>
        </table>
    </form>

    <form method="POST" action="{{ url_for('destinations_delete', destination_id=destination.id) }}" id="deleteform">
        <table>
            <tr>
                <td colspan="2">
                    <button type="submit" class="btn btn-default btn-lg">
                        <span class="glyphicon glyphicon-trash"></span>
                    </button>
                </td>
            </tr>
        </table>
    </form>

    <table>
        <tr>
            <td colspan="2">
                <a class="btn btn-default btn-lg" href="{{ url_for('destinations_one_change', destination_id=destination.id) }}">
                    <span class="glyphicon glyphicon-pencil"></span>
                </a>
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <a class="btn btn-default btn-lg" href="{{ url_for('accomodations_form', destination_id=destination.id) }} ">
                    <span class="glyphicon glyphicon-tent"></span>
                </a>
            </td>
        </tr>
    </table>
{% endblock %}
